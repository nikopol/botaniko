#!/usr/bin/env perl

###      #####    #   # # #  #
#  #  ##   #  ##  ##  #   # #
###  #  #  # #  # # # # # ##
#  # #  #  # #### #  ## # # #
###   ##   # #  # #   # # #  #

use strict;
use warnings;
use 5.010;
use Getopt::Long;
use botaniko;

my %opt;

GetOptions(
	"server|s=s"        => \$opt{'server.host'},
	"port|p=i"          => \$opt{'server.port'},
	"nick|name|n=s"     => \$opt{'nick'},
	"channels|chan|c=s" => \$opt{'channels'},
	"log|loglevel|ll=s" => \$opt{'loglevel'},
	"dbdebug"           => \$opt{'db.trace_calls'},
	"dbinit"            => \$opt{'db.init'},
	"tweetid|tid=i"     => \$opt{'plugins.twitter.lastid'},
	"mute|quiet|silent" => \$opt{'mute'},
	"plugins=s"         => \$opt{'autoload'},
);

if( $opt{channels} ) {
	$opt{channels} = [ split /,/,$opt{channels} ]
}
if( $opt{loglevel} ) {
	$opt{loglevel} = uc $opt{loglevel};
	$opt{loglevel} = 'DEBUG' unless $opt{loglevel} =~ /^(ERROR|WARN|NOTICE|INFO|TWEET|DEBUG)$/;
}
if( $opt{autoload} ) {
	$opt{autoload} = [ split /,/,$opt{autoload} ]
}

plant %opt;

0
